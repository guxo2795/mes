<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.wimir.bae.domain.common.main.mapper.CommonMainMapper">

    <!-- 상위 공통 코드 중복 검사 -->
    <select id="isCommonMainExist" resultType="boolean">
        SELECT IF(COUNT(*) > 0, true, false)
        FROM tbl_common_code_main
        WHERE is_deleted = 0
        AND main_common_name = #{mainCommonName}
    </select>

    <!-- 상위 공통 코드 등록 -->
    <insert id="createCommonMain">
        INSERT INTO tbl_common_code_main(
            main_common_name
        )
        VALUES (
            #{mainCommonName}
        )
    </insert>

</mapper>