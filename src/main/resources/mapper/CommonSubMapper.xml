<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.wimir.bae.domain.common.sub.mapper.CommonSubMapper">

    <select id="isUpperLowerCaseDuplicate" resultType="boolean">
        SELECT IF(COUNT(*) > 0, 1, 0)
        FROM tbl_common_code_sub
        WHERE is_deleted = 0
          AND UPPER(sub_common_name) = UPPER(#{subCommonName})
          AND main_common_key = #{mainCommonKey}
    </select>

    <insert id="createCommonSub">
        INSERT INTO tbl_common_code_sub(
                main_common_key, sub_common_name, note
        )
        VALUES (
                #{mainCommonKey}, #{subCommonName}, #{note}
        )
    </insert>

</mapper>