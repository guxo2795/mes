<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper namespace="com.wimir.bae.domain.contract.mapper.ContractMapper">

    <!--  수주 등록   -->
    <insert id="createContract" useGeneratedKeys="true" keyProperty="contractCode" keyColumn="contract_code">
        INSERT INTO tbl_order_contract(
            company_key, contract_name, contract_date, delivery_date
        ) VALUES (
                     #{companyKey}, #{contractName}, #{contractDate}, #{deliveryDate}
                 )
    </insert>

    <!-- 수주 품목 등록   -->
    <insert id="createContractMaterials" >
        INSERT INTO tbl_order_contract_materials(
            contract_code, product_key, quantity
        ) VALUES (
                     #{contractCode}, #{productKey}, #{quantity}
                 )
    </insert>

</mapper>